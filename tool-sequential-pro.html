<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sequential Pro - 專業全功能自定義版</title>
    <!-- 核心庫載入 -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide 圖示載入 -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f1f5f9; margin: 0; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #00b900; border-radius: 10px; }
        .lucide { width: 1.2em; height: 1.2em; vertical-align: middle; display: inline-block; }
        input, select, textarea { font-size: 14px !important; }
        
        .chat-room-bg {
            background-color: #7988a0;
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .control-panel { background: white; border-radius: 12px; padding: 16px; border: 1px solid #e2e8f0; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .master-slider { accent-color: #f59e0b; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        const SOCIAL_DATA = {
            NONE: { url: "https://vos.line-scdn.net/bot-designer-template-images/bot-designer-icon.png", label: "無" },
            FB: { url: "https://cdn-icons-png.flaticon.com/512/733/733547.png", label: "FB" },
            IG: { url: "https://cdn-icons-png.flaticon.com/512/2111/2111463.png", label: "IG" },
            TIKTOK: { url: "https://cdn-icons-png.flaticon.com/512/3046/3046121.png", label: "TikTok" },
            YOUTUBE: { url: "https://cdn-icons-png.flaticon.com/512/1384/1384060.png", label: "YouTube" },
            LINE: { url: "https://cdn-icons-png.flaticon.com/512/124/124027.png", label: "LINE" },
            PHONE: { url: "https://cdn-icons-png.flaticon.com/512/3616/3616215.png", label: "電話" },
            MAIL: { url: "https://cdn-icons-png.flaticon.com/512/732/732200.png", label: "郵件" },
            MAP: { url: "https://cdn-icons-png.flaticon.com/512/355/355980.png", label: "地標" },
            WEB: { url: "https://cdn-icons-png.flaticon.com/512/1006/1006771.png", label: "官網" }
        };

        const RADIUS_OPTIONS = ["none", "xs", "sm", "md", "lg", "xl", "xxl"];

        const initialData = {
            size: "mega",
            media: {
                url: "https://aiwe.cc/wp-content/uploads/2025/12/f4545de10a478013942e50dd8c13282b-2.png",
                aspectRatio: "1:2",
                badgeText: "PREMIUM",
                badgeBg: "#D4AF37",
                badgeRadius: "xs",
                badgeTop: "20px",
                badgePos: "offsetEnd"
            },
            identity: {
                avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200",
                avatarTop: "60px",
                name: "張志明",
                nameTop: "155px",
                nameColor: "#000000",
                nameWeight: "bold",
                label1: "行銷總監 / 品牌顧問",
                label1Top: "190px",
                label1Bg: "rgba(255,255,255,0.2)",
                label1Color: "#000000",
                label1Weight: "bold",
                desc: "致力於協助企業品牌數位轉型，擁有超過 15 年的跨國行銷經驗。",
                descTop: "320px",
                descColor: "#000000",
                descWeight: "regular",
                descAlign: "center" 
            },
            social: {
                show: true,
                top: "230px",
                icons: [
                    { type: "PHONE", uri: "tel:0900000000" },
                    { type: "LINE", uri: "https://line.me" },
                    { type: "TIKTOK", uri: "https://tiktok.com" }
                ]
            },
            footer: {
                label: "聯繫我了解更多",
                uri: "https://line.me",
                footerBg: "#111111", // Footer 背景色
                themeColor: "#D4AF37",
                textColor: "#000000",
                weight: "bold"
            }
        };

        const App = () => {
            const [data, setData] = useState(initialData);
            const [activeTab, setActiveTab] = useState('editor');

            const buildJson = useCallback(() => {
                const [w, h] = data.media.aspectRatio.split(':').map(Number);
                const mediaH = (h / w) * (data.size === 'giga' ? 420 : 300);

                const bubble = {
                    type: "bubble",
                    size: data.size,
                    body: {
                        type: "box", layout: "vertical", paddingAll: "0px",
                        contents: [
                            { type: "image", url: data.media.url, size: "full", aspectRatio: data.media.aspectRatio, aspectMode: "cover" },
                            {
                                type: "box", layout: "vertical", position: "absolute", offsetTop: data.media.badgeTop, [data.media.badgePos]: "20px",
                                backgroundColor: data.media.badgeBg, cornerRadius: data.media.badgeRadius, paddingAll: "2px", paddingStart: "8px", paddingEnd: "8px",
                                contents: [{ type: "text", text: data.media.badgeText, color: "#ffffff", size: "xxs", weight: "bold" }]
                            },
                            {
                                type: "box", layout: "vertical", position: "absolute", offsetTop: data.identity.avatarTop, offsetStart: "0px", offsetEnd: "0px", alignItems: "center",
                                contents: [{
                                    type: "box", layout: "vertical", width: "85px", height: "85px", cornerRadius: "100px", borderWidth: "3px", borderColor: "#ffffff",
                                    contents: [{ type: "image", url: data.identity.avatar, size: "full", aspectMode: "cover" }]
                                }]
                            },
                            {
                                type: "box", layout: "vertical", position: "absolute", offsetTop: data.identity.nameTop, offsetStart: "0px", offsetEnd: "0px",
                                contents: [{ type: "text", text: data.identity.name, weight: data.identity.nameWeight, size: "xxl", color: data.identity.nameColor, align: "center" }]
                            },
                            {
                                type: "box", layout: "vertical", position: "absolute", offsetTop: data.identity.label1Top, offsetStart: "40px", offsetEnd: "40px",
                                backgroundColor: data.identity.label1Bg, cornerRadius: "md", paddingAll: "4px",
                                contents: [{ type: "text", text: data.identity.label1, size: "xs", color: data.identity.label1Color, align: "center", weight: data.identity.label1Weight }]
                            }
                        ]
                    },
                    footer: {
                        type: "box", layout: "vertical", paddingAll: "15px", backgroundColor: data.footer.footerBg,
                        contents: [{
                            type: "box", layout: "vertical", backgroundColor: data.footer.themeColor, paddingAll: "12px", cornerRadius: "md",
                            action: { type: "uri", uri: data.footer.uri || "https://line.me" },
                            contents: [{ type: "text", text: data.footer.label, color: data.footer.textColor, align: "center", weight: data.footer.weight, size: "sm" }]
                        }]
                    }
                };

                if (data.social.show) {
                    bubble.body.contents.push({
                        type: "box", layout: "horizontal", position: "absolute", offsetTop: data.social.top, offsetStart: "0px", offsetEnd: "0px", justifyContent: "center", spacing: "md",
                        contents: data.social.icons.map(icon => ({
                            type: "box", layout: "vertical", width: "32px", height: "32px", cornerRadius: "100px", backgroundColor: "rgba(255,255,255,0.1)", paddingAll: "7px",
                            action: { type: "uri", uri: icon.uri || "https://line.me" },
                            contents: [{ type: "image", url: SOCIAL_DATA[icon.type]?.url, size: "full" }]
                        }))
                    });
                }

                bubble.body.contents.push({
                    type: "box", layout: "vertical", position: "absolute", offsetTop: data.identity.descTop, offsetStart: "30px", offsetEnd: "30px",
                    contents: [{ type: "text", text: data.identity.desc, wrap: true, size: "sm", color: data.identity.descColor, align: data.identity.descAlign, lineHeight: "1.6", weight: data.identity.descWeight }]
                });

                return bubble;
            }, [data]);

            useEffect(() => { window.parent.postMessage({ type: 'CHILD_READY' }, '*'); }, []);
            useEffect(() => {
                const jsonStr = JSON.stringify(buildJson(), null, 2);
                window.parent.postMessage({ type: 'SYNC_FLEX_DATA', json: jsonStr }, '*');
            }, [data, buildJson]);
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [data, activeTab]);

            const updateData = (path, value) => {
                const keys = path.split('.');
                setData(prev => {
                    const next = JSON.parse(JSON.stringify(prev));
                    let current = next;
                    for (let i = 0; i < keys.length - 1; i++) current = current[keys[i]];
                    current[keys[keys.length - 1]] = value;
                    return next;
                });
            };

            const handleAvatarMove = (newValPx) => {
                const newVal = parseInt(newValPx);
                const oldVal = parseInt(data.identity.avatarTop);
                const diff = newVal - oldVal; 
                setData(prev => ({
                    ...prev,
                    identity: {
                        ...prev.identity,
                        avatarTop: newVal + 'px',
                        nameTop: (parseInt(prev.identity.nameTop) + diff) + 'px',
                        label1Top: (parseInt(prev.identity.label1Top) + diff) + 'px',
                        descTop: (parseInt(prev.identity.descTop) + diff) + 'px'
                    },
                    social: { ...prev.social, top: (parseInt(prev.social.top) + diff) + 'px' }
                }));
            };

            const PreviewComp = () => {
                const [w, h] = data.media.aspectRatio.split(':').map(Number);
                const mediaH = (h / w) * (data.size === 'giga' ? 420 : 300);
                return (
                    <div className="flex justify-center p-4 min-h-full text-black">
                        <div className="rounded-3xl shadow-2xl overflow-hidden relative border border-white/10" style={{ width: data.size === 'giga' ? '420px' : '300px', backgroundColor: data.footer.footerBg }}>
                            <div className="relative" style={{ height: `${mediaH}px` }}>
                                <img src={data.media.url} className="w-full h-full object-cover" />
                                <div className="absolute px-3 py-0.5 text-white text-[9px] font-bold" style={{ top: data.media.badgeTop, [data.media.badgePos === 'offsetStart' ? 'left' : 'right']: '20px', backgroundColor: data.media.badgeBg, borderRadius: data.media.badgeRadius === 'none' ? '0' : data.media.badgeRadius === 'xs' ? '2px' : data.media.badgeRadius === 'xl' ? '12px' : '6px' }}>{data.media.badgeText}</div>
                                <div className="absolute w-full flex justify-center" style={{ top: data.identity.avatarTop }}>
                                    <div className="w-20 h-20 rounded-full border-4 border-white shadow-xl overflow-hidden bg-white"><img src={data.identity.avatar} className="w-full h-full object-cover" /></div>
                                </div>
                                <div className="absolute w-full text-center px-4" style={{ top: data.identity.nameTop }}>
                                    <div style={{ color: data.identity.nameColor, fontWeight: data.identity.nameWeight === 'bold' ? 900 : 400, fontSize: '20px' }}>{data.identity.name}</div>
                                </div>
                                <div className="absolute w-full px-10" style={{ top: data.identity.label1Top }}>
                                    <div className="py-1 rounded text-[10px] text-center" style={{ backgroundColor: data.identity.label1Bg, color: data.identity.label1Color, fontWeight: data.identity.label1Weight === 'bold' ? 900 : 400 }}>{data.identity.label1}</div>
                                </div>
                                {data.social.show && (
                                    <div className="absolute w-full flex justify-center gap-3" style={{ top: data.social.top }}>
                                        {data.social.icons.map((s, i) => <div key={i} className="w-8 h-8 p-1.5 bg-white/10 rounded-full border border-white/5"><img src={SOCIAL_DATA[s.type]?.url} className="w-full h-full object-contain" /></div>)}
                                    </div>
                                )}
                                <div className="absolute w-full px-8" style={{ top: data.identity.descTop, textAlign: data.identity.descAlign === 'start' ? 'left' : data.identity.descAlign === 'end' ? 'right' : 'center' }}>
                                    <p className="text-xs leading-relaxed" style={{ color: data.identity.descColor, fontWeight: data.identity.descWeight === 'bold' ? 700 : 400 }}>{data.identity.desc}</p>
                                </div>
                            </div>
                            <div className="p-4" style={{ backgroundColor: data.footer.footerBg }}>
                                <div className="py-3 text-center rounded-xl text-sm" style={{ backgroundColor: data.footer.themeColor, color: data.footer.textColor, fontWeight: data.footer.weight === 'bold' ? 900 : 400 }}>{data.footer.label}</div>
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="flex h-screen bg-slate-100 overflow-hidden font-bold">
                    <div className="w-1/2 bg-white border-r flex flex-col shadow-2xl z-20">
                        <div className="p-6 border-b flex items-center justify-between bg-white shrink-0">
                            <div className="flex items-center gap-3 text-black">
                                <div className="bg-amber-500 p-2 rounded-lg text-white shadow-lg"><i data-lucide="cog"></i></div>
                                <h1 className="text-xl font-black tracking-tighter uppercase">Sequential Pro Master</h1>
                            </div>
                        </div>
                        <div className="flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-slate-50 text-black">
                            
                            {/* 1. 背景與標籤 */}
                            <div className="control-panel space-y-4">
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"><i data-lucide="image" className="w-4 h-4"></i> 1. 背景與標籤設定</h3>
                                <input type="text" value={data.media.url} onChange={e=>updateData('media.url', e.target.value)} className="w-full p-3 border rounded-xl text-xs font-mono" placeholder="底圖網址..." />
                                <div className="grid grid-cols-2 gap-3">
                                    <div className="space-y-1">
                                        <label className="text-[10px] text-slate-400">標籤文字</label>
                                        <input type="text" value={data.media.badgeText} onChange={e=>updateData('media.badgeText', e.target.value)} className="w-full p-2 border rounded-lg" />
                                    </div>
                                    <div className="space-y-1">
                                        <label className="text-[10px] text-slate-400">標籤圓角</label>
                                        <select value={data.media.badgeRadius} onChange={e=>updateData('media.badgeRadius', e.target.value)} className="w-full p-2 border rounded-lg bg-white">
                                            {RADIUS_OPTIONS.map(r => <option key={r} value={r}>{r.toUpperCase()}</option>)}
                                        </select>
                                    </div>
                                </div>
                                <div className="grid grid-cols-2 gap-3">
                                    <div className="space-y-1">
                                        <label className="text-[10px] text-slate-400">標籤背景色</label>
                                        <input type="color" value={data.media.badgeBg} onChange={e=>updateData('media.badgeBg', e.target.value)} className="w-full h-10 p-1 border rounded-lg" />
                                    </div>
                                    <div className="space-y-1">
                                        <label className="text-[10px] text-slate-400">標籤位置</label>
                                        <select value={data.media.badgePos} onChange={e=>updateData('media.badgePos', e.target.value)} className="w-full p-2 border rounded-lg bg-white">
                                            <option value="offsetStart">靠左</option>
                                            <option value="offsetEnd">靠右</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {/* 2. 連動主控制 */}
                            <div className="control-panel space-y-4 border-l-4 border-amber-500 bg-amber-50/30">
                                <h3 className="text-sm font-black text-amber-600 uppercase tracking-widest flex items-center gap-2"><i data-lucide="move" className="w-4 h-4"></i> 2. 核心等比位移 (Master)</h3>
                                <div className="flex items-center gap-4 text-xs">
                                    <span className="w-20 shrink-0">群組高度</span>
                                    <input type="range" min="0" max="600" value={parseInt(data.identity.avatarTop)} onChange={e=>handleAvatarMove(e.target.value+'px')} className="flex-1 master-slider" />
                                    <span className="text-amber-600 w-10 text-right">{data.identity.avatarTop}</span>
                                </div>
                            </div>

                            {/* 3. 姓名設定 */}
                            <div className="control-panel space-y-4">
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"><i data-lucide="user" className="w-4 h-4 text-blue-500"></i> 3. 姓名設定</h3>
                                <input type="text" value={data.identity.name} onChange={e=>updateData('identity.name', e.target.value)} className="w-full p-3 border rounded-xl text-lg font-black" placeholder="輸入姓名" />
                                <div className="grid grid-cols-2 gap-3">
                                    <div className="flex items-center gap-2 border p-2 rounded-xl">
                                        <label className="text-xs text-slate-400">顏色</label>
                                        <input type="color" value={data.identity.nameColor} onChange={e=>updateData('identity.nameColor', e.target.value)} className="flex-1 h-8 p-0 border-none cursor-pointer" />
                                    </div>
                                    <div className="flex items-center gap-2 border p-2 rounded-xl">
                                        <label className="text-xs text-slate-400">粗細</label>
                                        <select value={data.identity.nameWeight} onChange={e=>updateData('identity.nameWeight', e.target.value)} className="flex-1 text-xs">
                                            <option value="bold">粗體</option>
                                            <option value="regular">一般</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {/* 4. 職稱標籤編輯 */}
                            <div className="control-panel space-y-4">
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"><i data-lucide="tag" className="w-4 h-4 text-purple-500"></i> 4. 職稱標籤設定</h3>
                                <input type="text" value={data.identity.label1} onChange={e=>updateData('identity.label1', e.target.value)} className="w-full p-3 border rounded-xl text-sm" placeholder="輸入職稱" />
                                <div className="grid grid-cols-3 gap-2">
                                    <div className="flex flex-col gap-1">
                                        <label className="text-[10px] text-slate-400">文字色</label>
                                        <input type="color" value={data.identity.label1Color} onChange={e=>updateData('identity.label1Color', e.target.value)} className="w-full h-8 p-0" />
                                    </div>
                                    <div className="flex flex-col gap-1">
                                        <label className="text-[10px] text-slate-400">背景色</label>
                                        <input type="color" value={data.identity.label1Bg} onChange={e=>updateData('identity.label1Bg', e.target.value)} className="w-full h-8 p-0" />
                                    </div>
                                    <div className="flex flex-col gap-1">
                                        <label className="text-[10px] text-slate-400">粗細</label>
                                        <select value={data.identity.label1Weight} onChange={e=>updateData('identity.label1Weight', e.target.value)} className="w-full h-8 text-[10px] border rounded">
                                            <option value="bold">粗體</option>
                                            <option value="regular">一般</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {/* 5. 社群連結管理 */}
                            <div className="control-panel space-y-4">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-sm font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"><i data-lucide="share-2" className="w-4 h-4 text-green-500"></i> 5. 社群連結 (Max 5)</h3>
                                    <button onClick={()=>{if(data.social.icons.length < 5) updateData('social.icons', [...data.social.icons, {type:'WEB', uri:''}])}} className="bg-slate-800 text-white p-1 rounded-md hover:bg-black transition-colors"><i data-lucide="plus" className="w-4 h-4"></i></button>
                                </div>
                                <div className="space-y-3">
                                    {data.social.icons.map((s, idx) => (
                                        <div key={idx} className="space-y-2 p-3 bg-slate-100 rounded-xl relative group border border-slate-200 shadow-inner">
                                            <button onClick={()=>{const nl=data.social.icons.filter((_,i)=>i!==idx); updateData('social.icons', nl)}} className="absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity z-10"><i data-lucide="x" className="w-3 h-3"></i></button>
                                            <div className="flex gap-2">
                                                <select value={s.type} onChange={e=>{const nl=[...data.social.icons]; nl[idx].type=e.target.value; updateData('social.icons', nl)}} className="p-2 border rounded-lg bg-white text-xs w-28">
                                                    {Object.keys(SOCIAL_DATA).map(k=><option key={k} value={k}>{SOCIAL_DATA[k].label}</option>)}
                                                </select>
                                                <input type="text" value={s.uri} onChange={e=>{const nl=[...data.social.icons]; nl[idx].uri=e.target.value; updateData('social.icons', nl)}} className="flex-1 p-2 border rounded-lg text-xs font-mono" placeholder="連結 (https://...)" />
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* 6. 說明區編輯 */}
                            <div className="control-panel space-y-4 text-black">
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"><i data-lucide="align-left" className="w-4 h-4 text-orange-500"></i> 6. 說明區設定</h3>
                                <div className="flex bg-slate-100 p-1 rounded-xl gap-1">
                                    {['start', 'center', 'end'].map(align => (
                                        <button 
                                            key={align} 
                                            onClick={()=>updateData('identity.descAlign', align)} 
                                            className={`flex-1 py-1.5 rounded-lg text-xs font-bold transition-all ${data.identity.descAlign === align ? 'bg-white shadow-sm text-orange-600' : 'text-slate-400 hover:text-slate-600'}`}
                                        >
                                            {align === 'start' ? '左對齊' : align === 'center' ? '置中' : '右對齊'}
                                        </button>
                                    ))}
                                </div>
                                <textarea value={data.identity.desc} onChange={e=>updateData('identity.desc', e.target.value)} className="w-full p-3 border rounded-xl h-24 text-xs leading-relaxed" placeholder="輸入簡介內容"></textarea>
                                <div className="grid grid-cols-2 gap-3">
                                    <div className="flex items-center gap-2 border p-2 rounded-xl">
                                        <label className="text-xs text-slate-400">顏色</label>
                                        <input type="color" value={data.identity.descColor} onChange={e=>updateData('identity.descColor', e.target.value)} className="flex-1 h-8 p-0 border-none cursor-pointer" />
                                    </div>
                                    <div className="flex items-center gap-2 border p-2 rounded-xl">
                                        <label className="text-xs text-slate-400">粗細</label>
                                        <select value={data.identity.descWeight} onChange={e=>updateData('identity.descWeight', e.target.value)} className="flex-1 text-xs">
                                            <option value="regular">一般</option>
                                            <option value="bold">粗體</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            {/* 7. Footer 底部設定 */}
                            <div className="control-panel space-y-4 mb-12">
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-widest flex items-center gap-2"><i data-lucide="mouse-pointer-2" className="w-4 h-4 text-red-500"></i> 7. 底部設定</h3>
                                <div className="space-y-1">
                                    <label className="text-[10px] text-slate-400">Footer 背景色</label>
                                    <input type="color" value={data.footer.footerBg} onChange={e=>updateData('footer.footerBg', e.target.value)} className="w-full h-10 p-1 border rounded-lg cursor-pointer" />
                                </div>
                                <input type="text" value={data.footer.label} onChange={e=>updateData('footer.label', e.target.value)} className="w-full p-3 border rounded-xl" placeholder="按鈕文字" />
                                <input type="text" value={data.footer.uri} onChange={e=>updateData('footer.uri', e.target.value)} className="w-full p-3 border rounded-xl text-xs font-mono" placeholder="跳轉網址" />
                                <div className="grid grid-cols-2 gap-3">
                                    <div className="flex flex-col gap-1">
                                        <label className="text-[10px] text-slate-400">按鈕顏色</label>
                                        <input type="color" value={data.footer.themeColor} onChange={e=>updateData('footer.themeColor', e.target.value)} className="w-full h-8" />
                                    </div>
                                    <div className="flex flex-col gap-1">
                                        <label className="text-[10px] text-slate-400">按鈕文字色</label>
                                        <input type="color" value={data.footer.textColor} onChange={e=>updateData('footer.textColor', e.target.value)} className="w-full h-8" />
                                    </div>
                                </div>
                                <div className="flex items-center gap-2 border p-2 rounded-xl">
                                    <label className="text-xs text-slate-400">按鈕粗細</label>
                                    <select value={data.footer.weight} onChange={e=>updateData('footer.weight', e.target.value)} className="flex-1 text-xs">
                                        <option value="bold">粗體</option>
                                        <option value="regular">一般</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* 右側：預覽區 */}
                    <div className="flex-1 flex flex-col bg-slate-200">
                        <div className="h-[70px] bg-white border-b-2 flex items-center px-10 gap-8 shrink-0 shadow-md">
                            <button onClick={() => setActiveTab('editor')} className={`h-full border-b-4 flex items-center gap-2 ${activeTab === 'editor' ? 'text-[#06C755] border-[#06C755]' : 'text-slate-400 border-transparent'}`}><i data-lucide="eye"></i> 視覺預覽</button>
                            <button onClick={() => setActiveTab('json')} className={`h-full border-b-4 flex items-center gap-2 ${activeTab === 'json' ? 'text-[#06C755] border-[#06C755]' : 'text-slate-400 border-transparent'}`}><i data-lucide="code"></i> JSON 代碼</button>
                        </div>
                        <div className="flex-1 overflow-y-auto chat-room-bg custom-scrollbar">
                            {activeTab === 'editor' ? (
                                <div className="py-10 flex flex-col items-center">
                                    <div className="mb-6 px-6 py-2 bg-slate-800 text-white rounded-full text-xs font-black shadow-xl border border-white/10 uppercase tracking-widest">
                                        Sequential Absolute Pro Mode
                                    </div>
                                    <PreviewComp />
                                </div>
                            ) : (
                                <div className="p-10 max-w-4xl mx-auto w-full">
                                    <pre className="bg-slate-900 p-8 rounded-3xl text-green-400 text-xs overflow-x-auto leading-relaxed shadow-2xl border border-white/10 font-mono">
                                        {JSON.stringify(buildJson(), null, 2)}
                                    </pre>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
